//
//  main.swift
//  12-æ„é€ è¿‡ç¨‹
//
//  Created by tangl on 2019/11/15  11:05 AM
//  Copyright Â© 2019 km7. All rights reserved.
//
//  ---------------------------------------------------------
//  ğŸ˜ƒ  https://github.com/7kms
//  çƒ­çˆ±ç”Ÿæ´», å‹¤äºæ€è€ƒ, åŠªåŠ›å­¦ä¹ 
//  ---------------------------------------------------------
//

import Foundation

/**
 æ„é€ è¿‡ç¨‹æ˜¯ä½¿ç”¨ç±»ã€ç»“æ„ä½“æˆ–æšä¸¾ç±»å‹çš„å®ä¾‹ä¹‹å‰çš„å‡†å¤‡è¿‡ç¨‹ã€‚
 åœ¨æ–°å®ä¾‹å¯ç”¨å‰å¿…é¡»æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹ï¼Œå…·ä½“æ“ä½œåŒ…æ‹¬è®¾ç½®å®ä¾‹ä¸­æ¯ä¸ªå­˜å‚¨å‹å±æ€§çš„åˆå§‹å€¼å’Œæ‰§è¡Œå…¶ä»–å¿…é¡»çš„è®¾ç½®æˆ–åˆå§‹åŒ–å·¥ä½œã€‚
 é€šè¿‡å®šä¹‰æ„é€ å™¨æ¥å®ç°æ„é€ è¿‡ç¨‹ï¼Œå°±åƒç”¨æ¥åˆ›å»ºç‰¹å®šç±»å‹æ–°å®ä¾‹çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸ Objective-C ä¸­çš„æ„é€ å™¨ä¸åŒï¼ŒSwift çš„æ„é€ å™¨æ— éœ€è¿”å›å€¼ï¼Œå®ƒä»¬çš„ä¸»è¦ä»»åŠ¡æ˜¯ä¿è¯æ–°å®ä¾‹åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰å®Œæˆæ­£ç¡®çš„åˆå§‹åŒ–
 */

//1. å­˜å‚¨å±æ€§çš„åˆå§‹èµ‹å€¼
/**
 ç±»å’Œç»“æ„ä½“åœ¨åˆ›å»ºå®ä¾‹æ—¶ï¼Œå¿…é¡»ä¸ºæ‰€æœ‰å­˜å‚¨å‹å±æ€§è®¾ç½®åˆé€‚çš„åˆå§‹å€¼
 ä½ å¯ä»¥åœ¨æ„é€ å™¨ä¸­ä¸ºå­˜å‚¨å‹å±æ€§èµ‹åˆå€¼ï¼Œä¹Ÿå¯ä»¥åœ¨å®šä¹‰å±æ€§æ—¶ä¸ºå…¶è®¾ç½®é»˜è®¤å€¼
 
 æ³¨: å½“ä½ ä¸ºå­˜å‚¨å‹å±æ€§è®¾ç½®é»˜è®¤å€¼æˆ–è€…åœ¨æ„é€ å™¨ä¸­ä¸ºå…¶èµ‹å€¼æ—¶ï¼Œå®ƒä»¬çš„å€¼æ˜¯è¢«ç›´æ¥è®¾ç½®çš„ï¼Œä¸ä¼šè§¦å‘ä»»ä½•å±æ€§è§‚å¯Ÿè€…ã€‚
 */
//1.1 æ„é€ å™¨
/**
 æ„é€ å™¨åœ¨åˆ›å»ºæŸä¸ªç‰¹å®šç±»å‹çš„æ–°å®ä¾‹æ—¶è¢«è°ƒç”¨ã€‚å®ƒçš„æœ€ç®€å½¢å¼ç±»ä¼¼äºä¸€ä¸ªä¸å¸¦ä»»ä½•å‚æ•°çš„å®ä¾‹æ–¹æ³•ï¼Œä»¥å…³é”®å­— init å‘½å
 init(){
    
 }
 */
struct Fahrenheit {
    var temperature: Double
    init() {
        temperature = 32.0
    }
}
var f = Fahrenheit()
print("the default temperature is \(f.temperature)Â° Fahrenheit")

//1.2 é»˜è®¤å±æ€§å€¼
/**
 åœ¨å±æ€§å£°æ˜æ—¶ä¸ºå…¶è®¾ç½®é»˜è®¤å€¼
 
 æ³¨: å¦‚æœä¸€ä¸ªå±æ€§æ€»æ˜¯ä½¿ç”¨ç›¸åŒçš„åˆå§‹å€¼ï¼Œé‚£ä¹ˆä¸ºå…¶è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼æ¯”æ¯æ¬¡éƒ½åœ¨æ„é€ å™¨ä¸­èµ‹å€¼è¦å¥½ã€‚
 ä¸¤ç§æ–¹æ³•çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ä½¿ç”¨é»˜è®¤å€¼è®©å±æ€§çš„åˆå§‹åŒ–å’Œå£°æ˜ç»“åˆå¾—æ›´ç´§å¯†, ä¸”èƒ½é€šè¿‡é»˜è®¤å€¼è‡ªåŠ¨æ¨å¯¼å‡ºå±æ€§çš„ç±»å‹ï¼›åŒæ—¶ï¼Œå®ƒä¹Ÿèƒ½è®©ä½ å……åˆ†åˆ©ç”¨é»˜è®¤æ„é€ å™¨ã€æ„é€ å™¨ç»§æ‰¿ç­‰ç‰¹æ€§ã€‚
 */
struct Fahrenheit2 {
    var temperature = 32.0
}
//2. è‡ªå®šä¹‰æ„é€ è¿‡ç¨‹
/**
 ä½ å¯ä»¥é€šè¿‡è¾“å…¥å‚æ•°å’Œå¯é€‰ç±»å‹çš„å±æ€§æ¥è‡ªå®šä¹‰æ„é€ è¿‡ç¨‹ï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ è¿‡ç¨‹ä¸­ç»™å¸¸é‡å±æ€§èµ‹åˆå€¼
 */
//2.1 æ„é€ å‚æ•°
/**
 è‡ªå®šä¹‰æ„é€ è¿‡ç¨‹æ—¶ï¼Œå¯ä»¥åœ¨å®šä¹‰ä¸­æä¾›æ„é€ å‚æ•°ï¼ŒæŒ‡å®šå‚æ•°å€¼çš„ç±»å‹å’Œåå­—ã€‚æ„é€ å‚æ•°çš„åŠŸèƒ½å’Œè¯­æ³•è·Ÿå‡½æ•°å’Œæ–¹æ³•çš„å‚æ•°ç›¸åŒã€‚
 */
struct Celsius {
    var tempertureInCelsisus: Double
    init(fromFahrenheit fahrenheit: Double) {
        tempertureInCelsisus = (fahrenheit - 32)/1.8
    }
    init(fromKelvin kelvin: Double) {
        tempertureInCelsisus = kelvin - 273.15
    }
}

let boilingPoinOfWater = Celsius(fromFahrenheit: 212.0)
print("boilingPointOfWater.temperatureInCelsius æ˜¯ \(boilingPoinOfWater.tempertureInCelsisus)")
let freezingPointOfWater = Celsius(fromKelvin: 273.15)
print("freezingPointOfWater.temperatureInCelsius æ˜¯ \(freezingPointOfWater.tempertureInCelsisus)")
//2.2 å‚æ•°åå’Œå‚æ•°æ ‡ç­¾
/**
 è·Ÿå‡½æ•°å’Œæ–¹æ³•å‚æ•°ç›¸åŒï¼Œæ„é€ å‚æ•°ä¹Ÿæ‹¥æœ‰ä¸€ä¸ªåœ¨æ„é€ å™¨å†…éƒ¨ä½¿ç”¨çš„å‚æ•°åå’Œä¸€ä¸ªåœ¨è°ƒç”¨æ„é€ å™¨æ—¶ä½¿ç”¨çš„å‚æ•°æ ‡ç­¾ã€‚
 
 å¦‚æœæ²¡æœ‰ä¸ºæ„é€ å‡½æ•°åˆ¶å®šå‚æ•°æ ‡ç­¾, Swiftä¼šä¸ºæ„é€ å™¨çš„æ¯ä¸ªå‚æ•°è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå‚æ•°æ ‡ç­¾.
 */
struct Color {
    let red, green, blue: Double
    init(red: Double, green: Double, blue: Double) {
        self.red = red
        self.green = green
        self.blue = blue
    }
    init(white: Double) {
        red = white
        green = white
        blue = white
    }
}

let magenta = Color(red: 1.0, green: 0.0, blue: 1.0)
let halfGray = Color(white: 0.5)

//2.3 ä¸å¸¦å‚æ•°æ ‡ç­¾çš„æ„é€ å™¨å‚æ•°
// å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰æ¥æ˜¾å¼æè¿°å®ƒçš„å¤–éƒ¨å

struct Celsius2 {
    var temperatureInCelsius: Double
    init(fromFahrenheit fahrenheit: Double) {
        temperatureInCelsius = (fahrenheit - 32.0) / 1.8
    }
    init(fromKelvin kelvin: Double) {
        temperatureInCelsius = kelvin - 273.15
    }
    init(_ celsius: Double){
        temperatureInCelsius = celsius
    }
}
let bodyTemperature = Celsius2(37.0) //è°ƒç”¨init(_ celsius: Double) æ„é€ å™¨, æ— éœ€åŠ ä¸Šå‚æ•°æ ‡ç­¾

print("bodyTemperature.temperatureInCelsius ä¸º \(bodyTemperature.temperatureInCelsius)")

//2.3 å¯é€‰å±æ€§ç±»å‹
/**
å¯é€‰ç±»å‹çš„å±æ€§å°†è‡ªåŠ¨åˆå§‹åŒ–ä¸º nilï¼Œè¡¨ç¤ºè¿™ä¸ªå±æ€§æ˜¯æœ‰æ„åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®ä¸ºç©ºçš„ã€‚
 */
class SurveyQuestion {
    var text: String
    var response: String?
    init(text: String) {
        self.text = text
    }
    func ask(){
        print(text)
    }
}
let cheeseQuestion = SurveyQuestion(text: "Do you like cheese?")
cheeseQuestion.ask()
cheeseQuestion.response = "Yes, I do like cheese."

//2.4 æ„é€ è¿‡ç¨‹ä¸­å¸¸é‡å±æ€§çš„èµ‹å€¼
/**
 ä½ å¯ä»¥åœ¨æ„é€ è¿‡ç¨‹ä¸­çš„ä»»æ„æ—¶é—´ç‚¹ç»™å¸¸é‡å±æ€§æŒ‡å®šä¸€ä¸ªå€¼ï¼Œåªè¦åœ¨æ„é€ è¿‡ç¨‹ç»“æŸæ—¶æ˜¯ä¸€ä¸ªç¡®å®šçš„å€¼ã€‚ä¸€æ—¦å¸¸é‡å±æ€§è¢«èµ‹å€¼ï¼Œå®ƒå°†æ°¸è¿œä¸å¯æ›´æ”¹ã€‚
 
 æ³¨: å¯¹äºç±»çš„å®ä¾‹æ¥è¯´ï¼Œå®ƒçš„å¸¸é‡å±æ€§åªèƒ½åœ¨å®šä¹‰å®ƒçš„ç±»çš„æ„é€ è¿‡ç¨‹ä¸­ä¿®æ”¹ï¼›ä¸èƒ½åœ¨å­ç±»ä¸­ä¿®æ”¹ã€‚
 */

class SurveyQuestion2 {
    let text: String //ç”¨letå£°æ˜å±æ€§,è¡¨ç¤ºå†…å®¹åœ¨å®ä¾‹åˆ›å»ºä¹‹åä¸å¯æ›´æ”¹
    var response: String?
    init(text: String) {
        self.text = text //åœ¨æ„é€ å™¨ä¸­å¯ä»¥è®¾ç½®å¸¸é‡çš„å€¼
    }
    func ask() {
        print(text)
    }
}
let beetsQuestion = SurveyQuestion(text: "How about beets?")
beetsQuestion.ask()
beetsQuestion.response = "I also like beets. (But not with cheese.)"

//3. é»˜è®¤æ„é€ å™¨
/**
 1. ç»“æ„ä½“æˆ–ç±»çš„æ‰€æœ‰å±æ€§éƒ½æœ‰é»˜è®¤å€¼
 2. åŒæ—¶æ²¡æœ‰è‡ªå®šä¹‰çš„æ„é€ å™¨
 é‚£ä¹ˆ Swift ä¼šç»™è¿™äº›ç»“æ„ä½“æˆ–ç±»æä¾›ä¸€ä¸ªé»˜è®¤æ„é€ å™¨ï¼ˆdefault initializersï¼‰
 
 è¿™ä¸ªé»˜è®¤æ„é€ å™¨å°†ç®€å•åœ°åˆ›å»ºä¸€ä¸ªæ‰€æœ‰å±æ€§å€¼éƒ½è®¾ç½®ä¸ºé»˜è®¤å€¼çš„å®ä¾‹ã€‚
 */

class ShoppingListItem2 {
    var name: String? //name æ˜¯å¯é€‰å­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒå°†é»˜è®¤è®¾ç½®ä¸º nil
    var quantity = 1
    var purchased = false
}

var item = ShoppingListItem2()

//3.1 ç»“æ„ä½“çš„é€ä¸€æˆå‘˜æ„é€ å™¨
/**
 1. é¦–å…ˆæ»¡è¶³é»˜è®¤æ„é€ å™¨çš„ç”Ÿæˆè§„åˆ™
 2. å¦‚æœç»“æ„ä½“æ²¡æœ‰æä¾›è‡ªå®šä¹‰çš„æ„é€ å™¨ï¼Œå®ƒä»¬å°†è‡ªåŠ¨è·å¾—ä¸€ä¸ªé€ä¸€æˆå‘˜æ„é€ å™¨ï¼ˆmemberwise initializerï¼‰ï¼Œå³ä½¿ç»“æ„ä½“çš„å­˜å‚¨å‹å±æ€§æ²¡æœ‰é»˜è®¤å€¼ã€‚
 */
struct Size2 {
    var width = 0.0, height = 0.0
}

let twoByTwo = Size2(width: 2.0, height: 2.0)

//4. å€¼ç±»å‹çš„æ„é€ å™¨ä»£ç†
 /**
 æ„é€ å™¨å¯ä»¥é€šè¿‡è°ƒç”¨å…¶å®ƒæ„é€ å™¨æ¥å®Œæˆå®ä¾‹çš„éƒ¨åˆ†æ„é€ è¿‡ç¨‹ã€‚
 è¿™ä¸€è¿‡ç¨‹ç§°ä¸ºæ„é€ å™¨ä»£ç†ï¼Œå®ƒèƒ½é¿å…å¤šä¸ªæ„é€ å™¨é—´çš„ä»£ç é‡å¤ã€‚
 
 æ„é€ å™¨ä»£ç†çš„è§„åˆ™åœ¨å€¼ç±»å‹å’Œç±»ç±»å‹ä¸­æ˜¯ä¸åŒçš„.
 å€¼ç±»å‹ï¼ˆç»“æ„ä½“å’Œæšä¸¾ç±»å‹ï¼‰ä¸æ”¯æŒç»§æ‰¿ï¼Œæ‰€ä»¥åªèƒ½ä»£ç†ç»™è‡ªå·±çš„å…¶å®ƒæ„é€ å™¨
 ç±»åˆ™ä¸åŒï¼Œå®ƒå¯ä»¥ç»§æ‰¿è‡ªå…¶ä»–ç±»ï¼Œç±»æœ‰è´£ä»»ä¿è¯å…¶æ‰€æœ‰ç»§æ‰¿çš„å­˜å‚¨å‹å±æ€§åœ¨æ„é€ æ—¶ä¹Ÿèƒ½æ­£ç¡®çš„åˆå§‹åŒ–
 
 å¯¹äºå€¼ç±»å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ self.init åœ¨è‡ªå®šä¹‰çš„æ„é€ å™¨ä¸­å¼•ç”¨ç›¸åŒç±»å‹ä¸­çš„å…¶å®ƒæ„é€ å™¨ã€‚å¹¶ä¸”ä½ åªèƒ½åœ¨æ„é€ å™¨å†…éƒ¨è°ƒç”¨ self.init
 
 
 
 å¦‚æœä½ ä¸ºæŸä¸ªå€¼ç±»å‹å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„æ„é€ å™¨ï¼Œä½ å°†æ— æ³•è®¿é—®åˆ°é»˜è®¤æ„é€ å™¨ï¼ˆå¦‚æœæ˜¯ç»“æ„ä½“ï¼Œè¿˜å°†æ— æ³•è®¿é—®é€ä¸€æˆå‘˜æ„é€ å™¨ï¼‰ã€‚
 
 æ³¨: å‡å¦‚ä½ å¸Œæœ›é»˜è®¤æ„é€ å™¨ã€é€ä¸€æˆå‘˜æ„é€ å™¨ä»¥åŠä½ è‡ªå·±çš„è‡ªå®šä¹‰æ„é€ å™¨éƒ½èƒ½ç”¨æ¥åˆ›å»ºå®ä¾‹ï¼Œå¯ä»¥å°†è‡ªå®šä¹‰çš„æ„é€ å™¨å†™åˆ°æ‰©å±•ï¼ˆextensionï¼‰ä¸­ï¼Œè€Œä¸æ˜¯å†™åœ¨å€¼ç±»å‹çš„åŸå§‹å®šä¹‰ä¸­
 
 */


struct Size {
    var width = 0.0, height = 0.0
}

struct Point {
    var x = 0.0, y = 0.0
}
struct Rect {
    var origin = Point()
    var size = Size()
    init() {}// ç©ºå‡½æ•°,åœ¨åŠŸèƒ½ä¸Šè·Ÿæ²¡æœ‰è‡ªå®šä¹‰æ„é€ å™¨æ—¶è‡ªåŠ¨è·å¾—çš„é»˜è®¤æ„é€ å™¨æ˜¯ä¸€æ ·çš„

    init(origin: Point, size: Size) { // åœ¨åŠŸèƒ½ä¸Šè·Ÿç»“æ„ä½“åœ¨æ²¡æœ‰è‡ªå®šä¹‰æ„é€ å™¨æ—¶è·å¾—çš„é€ä¸€æˆå‘˜æ„é€ å™¨æ˜¯ä¸€æ ·
        self.origin = origin
        self.size = size
    }

    init(center: Point, size: Size) {
        let originX = center.x - (size.width / 2)
        let originY = center.y - (size.height / 2)
        self.init(origin: Point(x: originX, y: originY), size: size) //è°ƒç”¨(ä»£ç†ç»™) init(origin:size:) æ„é€ å™¨æ¥å°†æ–°
    }
}

//5 ç±»çš„ç»§æ‰¿å’Œæ„é€ è¿‡ç¨‹
/**
 ç±»é‡Œé¢çš„æ‰€æœ‰å­˜å‚¨å‹å±æ€§â€”â€”åŒ…æ‹¬æ‰€æœ‰ç»§æ‰¿è‡ªçˆ¶ç±»çš„å±æ€§â€”â€”éƒ½å¿…é¡»åœ¨æ„é€ è¿‡ç¨‹ä¸­è®¾ç½®åˆå§‹å€¼ã€‚
 
 Swift ä¸ºç±»ç±»å‹æä¾›äº†ä¸¤ç§æ„é€ å™¨æ¥ç¡®ä¿å®ä¾‹ä¸­æ‰€æœ‰å­˜å‚¨å‹å±æ€§éƒ½èƒ½è·å¾—åˆå§‹å€¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨ã€‚
 */
//5.1 æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨
/**
 
 æŒ‡å®šæ„é€ å™¨æ˜¯ç±»ä¸­æœ€ä¸»è¦çš„æ„é€ å™¨ã€‚ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å°†åˆå§‹åŒ–ç±»ä¸­æä¾›çš„æ‰€æœ‰å±æ€§ï¼Œå¹¶æ ¹æ®çˆ¶ç±»é“¾å¾€ä¸Šè°ƒç”¨çˆ¶ç±»åˆé€‚çš„æ„é€ å™¨æ¥å®ç°çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚æ¯ä¸€ä¸ªç±»éƒ½å¿…é¡»è‡³å°‘æ‹¥æœ‰ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨
 
 ä¾¿åˆ©æ„é€ å™¨æ˜¯ç±»ä¸­æ¯”è¾ƒæ¬¡è¦çš„ã€è¾…åŠ©å‹çš„æ„é€ å™¨ã€‚ä½ å¯ä»¥å®šä¹‰ä¾¿åˆ©æ„é€ å™¨æ¥è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„æŒ‡å®šæ„é€ å™¨ï¼Œå¹¶ä¸ºå…¶å‚æ•°æä¾›é»˜è®¤å€¼ã€‚ä½ ä¹Ÿå¯ä»¥å®šä¹‰ä¾¿åˆ©æ„é€ å™¨æ¥åˆ›å»ºä¸€ä¸ªç‰¹æ®Šç”¨é€”æˆ–ç‰¹å®šè¾“å…¥å€¼çš„å®ä¾‹ã€‚ä½ åº”å½“åªåœ¨å¿…è¦çš„æ—¶å€™ä¸ºç±»æä¾›ä¾¿åˆ©æ„é€ å™¨
 
 
 è¯­æ³•:
 1. åˆ¶å®šæ„é€ å™¨
 
 æŒ‡å®šæ„é€ å™¨çš„å†™æ³•è·Ÿå€¼ç±»å‹ç®€å•æ„é€ å™¨ä¸€æ ·ï¼š
 init(parameters) {
     statements
 }
 
 2. ä¾¿åˆ©æ„é€ å™¨ åœ¨initå…³é”®å­—ä¹‹å‰æ·»åŠ convenienceå…³é”®å­—
 
 convenience init (parameters) {
    statements
 }
 */

//5.2 ç±»çš„æ„é€ å™¨ä»£ç†è§„åˆ™

/**
 ä¸ºäº†ç®€åŒ–æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨ä¹‹é—´çš„è°ƒç”¨å…³ç³»ï¼ŒSwift é‡‡ç”¨ä»¥ä¸‹ä¸‰æ¡è§„åˆ™æ¥é™åˆ¶æ„é€ å™¨ä¹‹é—´çš„ä»£ç†è°ƒç”¨ï¼š
 1. æŒ‡å®šæ„é€ å™¨å¿…é¡»è°ƒç”¨å…¶ç›´æ¥çˆ¶ç±»çš„çš„æŒ‡å®šæ„é€ å™¨ã€‚
 2. ä¾¿åˆ©æ„é€ å™¨å¿…é¡»è°ƒç”¨åŒç±»ä¸­å®šä¹‰çš„å…¶å®ƒæ„é€ å™¨ã€‚
 3. ä¾¿åˆ©æ„é€ å™¨æœ€åå¿…é¡»è°ƒç”¨æŒ‡å®šæ„é€ å™¨ã€‚
 
 ä¸€ä¸ªæ›´æ–¹ä¾¿è®°å¿†çš„æ–¹æ³•æ˜¯ï¼š
 æŒ‡å®šæ„é€ å™¨å¿…é¡»æ€»æ˜¯å‘ä¸Šä»£ç†
 ä¾¿åˆ©æ„é€ å™¨å¿…é¡»æ€»æ˜¯æ¨ªå‘ä»£ç†
 */
//5.3 ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹ (Two-Phase Initialization)
/**
 1. ç±»ä¸­çš„æ¯ä¸ªå­˜å‚¨å‹å±æ€§èµ‹ä¸€ä¸ªåˆå§‹å€¼
 2. åœ¨æ–°å®ä¾‹å‡†å¤‡ä½¿ç”¨ä¹‹å‰è¿›ä¸€æ­¥å®šåˆ¶å®ƒä»¬çš„å­˜å‚¨å‹å±æ€§
 
 ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹å¯ä»¥é˜²æ­¢å±æ€§å€¼åœ¨åˆå§‹åŒ–ä¹‹å‰è¢«è®¿é—®ï¼Œä¹Ÿå¯ä»¥é˜²æ­¢å±æ€§è¢«å¦å¤–ä¸€ä¸ªæ„é€ å™¨æ„å¤–åœ°èµ‹äºˆä¸åŒçš„å€¼ã€‚
 Swift ç¼–è¯‘å™¨å°†æ‰§è¡Œ 4 ç§æœ‰æ•ˆçš„å®‰å…¨æ£€æŸ¥ï¼Œä»¥ç¡®ä¿ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹ä¸å‡ºé”™åœ°å®Œæˆ:
 1. å®šæ„é€ å™¨å¿…é¡»ä¿è¯å®ƒæ‰€åœ¨ç±»çš„å±æ€§åœ¨å®ƒå¾€ä¸Šä»£ç†ä¹‹å‰å…ˆå®Œæˆåˆå§‹åŒ–ã€‚
 2. æŒ‡å®šæ„é€ å™¨å¿…é¡»åœ¨ä¸ºç»§æ‰¿çš„å±æ€§è®¾ç½®æ–°å€¼ä¹‹å‰å‘ä¸Šä»£ç†è°ƒç”¨çˆ¶ç±»æ„é€ å™¨ï¼Œå¦‚æœæ²¡è¿™ä¹ˆåšï¼ŒæŒ‡å®šæ„é€ å™¨èµ‹äºˆçš„æ–°å€¼å°†è¢«çˆ¶ç±»ä¸­çš„æ„é€ å™¨æ‰€è¦†ç›–ã€‚
 3. ä¾¿åˆ©æ„é€ å™¨å¿…é¡»ä¸ºä»»æ„å±æ€§ï¼ˆåŒ…æ‹¬åŒç±»ä¸­å®šä¹‰çš„ï¼‰èµ‹æ–°å€¼ä¹‹å‰ä»£ç†è°ƒç”¨åŒä¸€ç±»ä¸­çš„å…¶å®ƒæ„é€ å™¨ï¼Œå¦‚æœæ²¡è¿™ä¹ˆåšï¼Œä¾¿åˆ©æ„é€ å™¨èµ‹äºˆçš„æ–°å€¼å°†è¢«åŒä¸€ç±»ä¸­å…¶å®ƒæŒ‡å®šæ„é€ å™¨æ‰€è¦†ç›–
 4. æ„é€ å™¨åœ¨ç¬¬ä¸€é˜¶æ®µæ„é€ å®Œæˆä¹‹å‰ï¼Œä¸èƒ½è°ƒç”¨ä»»ä½•å®ä¾‹æ–¹æ³•ï¼Œä¸èƒ½è¯»å–ä»»ä½•å®ä¾‹å±æ€§çš„å€¼ï¼Œä¸èƒ½å¼•ç”¨ self ä½œä¸ºä¸€ä¸ªå€¼ã€‚
 */
//5.4 æ„é€ å™¨çš„ç»§æ‰¿å’Œé‡å†™
/**
 è·Ÿ Objective-C ä¸­çš„å­ç±»ä¸åŒï¼ŒSwift ä¸­çš„å­ç±»é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨ã€‚Swift çš„è¿™ç§æœºåˆ¶å¯ä»¥é˜²æ­¢ä¸€ä¸ªçˆ¶ç±»çš„ç®€å•æ„é€ å™¨è¢«ä¸€ä¸ªæ›´ç²¾ç»†çš„å­ç±»ç»§æ‰¿ï¼Œå¹¶è¢«é”™è¯¯åœ°ç”¨æ¥åˆ›å»ºå­ç±»çš„å®ä¾‹ã€‚
 
 æ³¨: å½“ä½ é‡å†™ä¸€ä¸ªçˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨æ—¶ï¼Œä½ æ€»æ˜¯éœ€è¦å†™ override ä¿®é¥°ç¬¦ï¼Œå³ä½¿æ˜¯ä¸ºäº†å®ç°å­ç±»çš„ä¾¿åˆ©æ„é€ å™¨ã€‚
 */

class Vehicle {
    // å› ä¸ºVehicleæ²¡æœ‰æä¾›è‡ªå®šä¹‰æ„é€ å™¨,æ‰€ä»¥ä¼šè·å¾—ä¸€ä¸ªé»˜è®¤æ„é€ å™¨
    var numberOfWheels = 0
    var description: String {
        return "\(numberOfWheels) wheel(s)"
    }
}
let vehicle = Vehicle()
print("Vehicle: \(vehicle.description)")

class Bicycle: Vehicle {
    override init() { // è‡ªå®šä¹‰æ„é€ å™¨init()ä¸çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨ç›¸åŒ¹é…,æ‰€ä»¥éœ€è¦åŠ ä¸Šoverrideä¿®é¥°ç¬¦
        super.init()
        numberOfWheels = 2
        // æ³¨: å­ç±»å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶ä¿®æ”¹ç»§æ‰¿æ¥çš„å˜é‡å±æ€§ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹ç»§æ‰¿æ¥çš„å¸¸é‡å±æ€§ã€‚
    }
}
let bicycle = Bicycle()
print("Bicycle: \(bicycle.description)")

//5.5 æ„é€ å™¨çš„è‡ªåŠ¨ç»§æ‰¿
/**
 
 å­ç±»åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨ã€‚ä½†æ˜¯å¦‚æœæ»¡è¶³ç‰¹å®šæ¡ä»¶ï¼Œçˆ¶ç±»æ„é€ å™¨æ˜¯å¯ä»¥è¢«è‡ªåŠ¨ç»§æ‰¿çš„
 
 
 å‰ææ¡ä»¶: å­ç±»ä¸­å¼•å…¥çš„æ‰€æœ‰æ–°å±æ€§éƒ½æä¾›äº†é»˜è®¤å€¼
 1. å¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰ä»»ä½•æŒ‡å®šæ„é€ å™¨ï¼Œå®ƒå°†è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰çš„æŒ‡å®šæ„é€ å™¨ã€‚
 2. å¦‚æœå­ç±»æä¾›äº†æ‰€æœ‰çˆ¶ç±»æŒ‡å®šæ„é€ å™¨çš„å®ç°â€”â€”æ— è®ºæ˜¯é€šè¿‡è§„åˆ™ 1 ç»§æ‰¿è¿‡æ¥çš„ï¼Œè¿˜æ˜¯æä¾›äº†è‡ªå®šä¹‰å®ç°â€”â€”å®ƒå°†è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰çš„ä¾¿åˆ©æ„é€ å™¨
 
 æ³¨: å³ä½¿ä½ åœ¨å­ç±»ä¸­æ·»åŠ äº†æ›´å¤šçš„ä¾¿åˆ©æ„é€ å™¨ï¼Œè¿™ä¸¤æ¡è§„åˆ™ä»ç„¶é€‚ç”¨ã€‚
 å¯¹äºè§„åˆ™ 2ï¼Œå­ç±»å¯ä»¥å°†çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨å®ç°ä¸ºä¾¿åˆ©æ„é€ å™¨ã€‚
 */
//3.3.6 æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨å®è·µ
class Food {
    var name: String
    init(name: String) {
        //Food ç±»æ²¡æœ‰çˆ¶ç±»ï¼Œæ‰€ä»¥ init(name: String) æ„é€ å™¨ä¸éœ€è¦è°ƒç”¨ super.init()
        self.name = name
    }
    convenience init() {
        self.init(name: "[Unnamed]")
    }
}
let namedFood = Food(name: "Bacon")
let mysteryMeat = Food()


/**
 å°½ç®¡ RecipeIngredient å°†çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨é‡å†™ä¸ºäº†ä¾¿åˆ©æ„é€ å™¨ï¼Œä½†æ˜¯å®ƒä¾ç„¶æä¾›äº†çˆ¶ç±»çš„æ‰€æœ‰æŒ‡å®šæ„é€ å™¨çš„å®ç°ã€‚å› æ­¤ï¼ŒRecipeIngredient ä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰ä¾¿åˆ©æ„é€ å™¨(convenience init())ã€‚
 */
class RecipeIngredient: Food {
    var quantity: Int
    init(name: String, quantity: Int){
        self.quantity = quantity
        super.init(name: name)
        
    }

    
    // å­ç±»å¯ä»¥å°†çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨å®ç°ä¸ºä¾¿åˆ©æ„é€ å™¨ã€‚
    override convenience init(name: String) {
        //ç”±äºè¿™ä¸ªä¾¿åˆ©æ„é€ å™¨é‡å†™äº†çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨ init(name: String)ï¼Œå› æ­¤å¿…é¡»åœ¨å‰é¢ä½¿ç”¨ override ä¿®é¥°ç¬¦
        // overrideå’Œconvenienceé¡ºåºä¸é™
        self.init(name: name, quantity: 1)
    }
    
}
//è¿™ä¸‰ç§æ„é€ å™¨éƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºæ–°çš„ RecipeIngredient å®ä¾‹ï¼š

let oneMysteryItem = RecipeIngredient()
let oneBacon = RecipeIngredient(name: "Bacon")
let sixEggs = RecipeIngredient(name: "Eggs", quantity: 6)


/**
 ç”±äºå®ƒä¸ºè‡ªå·±å¼•å…¥çš„æ‰€æœ‰å±æ€§éƒ½æä¾›äº†é»˜è®¤å€¼ï¼Œå¹¶ä¸”è‡ªå·±æ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å™¨ï¼ŒShoppingListItem å°†è‡ªåŠ¨ç»§æ‰¿æ‰€æœ‰çˆ¶ç±»ä¸­çš„æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨ã€‚
 */
class ShoppingListItem: RecipeIngredient {
    var purchased = false
    var description: String {
        var output = "\(quantity) x \(name)"
        output += purchased ? " âœ”" : " âœ˜"
        return output
    }
}

// è¿™é‡ŒShoppingListItemä¼šæœ‰3ç§æ„é€ å½¢å¼
var breakfastList = [
    ShoppingListItem(),
    ShoppingListItem(name: "Bacon"),
    ShoppingListItem(name: "Eggs", quantity: 6),
]
breakfastList[0].name = "Orange juice"
breakfastList[0].purchased = true
for item in breakfastList {
    print(item.description)
}

// 6. å¯å¤±è´¥æ„é€ å™¨
/**
 å¦‚æœä¸€ä¸ªç±»ã€ç»“æ„ä½“æˆ–æšä¸¾ç±»å‹çš„å¯¹è±¡ï¼Œåœ¨æ„é€ è¿‡ç¨‹ä¸­æœ‰å¯èƒ½å¤±è´¥ï¼Œåˆ™å¯ä»¥ä¸ºå…¶å®šä¹‰ä¸€ä¸ªå¯å¤±è´¥çš„æ„é€ å™¨
 
 åœ¨ä¸€ä¸ªç±»ï¼Œç»“æ„ä½“æˆ–æ˜¯æšä¸¾ç±»å‹çš„å®šä¹‰ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå¯å¤±è´¥æ„é€ å™¨ã€‚
 è¯­æ³•: åœ¨ init å…³é”®å­—åé¢æ·»åŠ é—®å·ï¼ˆinit?ï¼‰ã€‚é€šè¿‡ return nil è¯­å¥æ¥è¡¨æ˜å¯å¤±è´¥æ„é€ å™¨â€œå¤±è´¥â€ã€‚
 æ³¨: ä¸¥æ ¼æ¥è¯´ï¼Œæ„é€ å™¨éƒ½ä¸æ”¯æŒè¿”å›å€¼ã€‚å› ä¸ºæ„é€ å™¨æœ¬èº«çš„ä½œç”¨ï¼Œåªæ˜¯ä¸ºäº†ç¡®ä¿å¯¹è±¡èƒ½è¢«æ­£ç¡®æ„é€ ã€‚å› æ­¤ä½ åªæ˜¯ç”¨ return nil è¡¨æ˜å¯å¤±è´¥æ„é€ å™¨æ„é€ å¤±è´¥ï¼Œè€Œä¸è¦ç”¨å…³é”®å­— return æ¥è¡¨æ˜æ„é€ æˆåŠŸã€‚

 æ³¨: å¯å¤±è´¥æ„é€ å™¨çš„å‚æ•°åå’Œå‚æ•°ç±»å‹ï¼Œä¸èƒ½ä¸å…¶å®ƒéå¯å¤±è´¥æ„é€ å™¨çš„å‚æ•°åï¼ŒåŠå…¶å‚æ•°ç±»å‹ç›¸åŒã€‚
 */

let wholeNumber = 12345.0
let pi = 3.14159
// é’ˆå¯¹æ•°å­—ç±»å‹è½¬æ¢çš„å¯å¤±è´¥æ„é€ å™¨ã€‚ç¡®ä¿æ•°å­—ç±»å‹ä¹‹é—´çš„è½¬æ¢èƒ½ä¿æŒç²¾ç¡®çš„å€¼ï¼Œä½¿ç”¨è¿™ä¸ª init(exactly:) æ„é€ å™¨ã€‚å¦‚æœç±»å‹è½¬æ¢ä¸èƒ½ä¿æŒå€¼ä¸å˜ï¼Œåˆ™è¿™ä¸ªæ„é€ å™¨æ„é€ å¤±è´¥
if let valueMaintained = Int(exactly: wholeNumber) {
    print("\(wholeNumber) conversion to Int maintains value of \(valueMaintained)")
}
let valueChanged = Int(exactly: pi)
if valueChanged == nil {
    print("\(pi) conversion to Int does not maintain value")
}


struct Animal {
    let species: String
    init?(species: String) {
        if species.isEmpty {
            return nil
        }
        self.species = species
    }
}

let someCreature = Animal(species: "Giraffe") //è¿”å›Animal?ç±»å‹

if let giraffe = someCreature {
    print("An animal was initialized with a species of \(giraffe.species)")
}

let anonymousCreature = Animal(species: "")
if anonymousCreature == nil {
    print("The anonymous creature could not be initialized")
}

// 6.1 æšä¸¾ç±»å‹çš„å¯å¤±è´¥æ„é€ å™¨
/**
 ä½ å¯ä»¥é€šè¿‡å¸¦å‚æ•°(ä¸€ä¸ªå‚æ•°æˆ–è€…å¤šä¸ªå‚æ•°)çš„å¯å¤±è´¥æ„é€ å™¨æ¥è·å–æšä¸¾ç±»å‹ä¸­ç‰¹å®šçš„æšä¸¾æˆå‘˜ã€‚å¦‚æœæä¾›çš„å‚æ•°æ— æ³•åŒ¹é…ä»»ä½•æšä¸¾æˆå‘˜ï¼Œåˆ™æ„é€ å¤±è´¥ã€‚
 */
enum TemperatureUnit {
    case Kelvin, Celsius, Fahrenheit
    init?(symbol: Character) {
        switch symbol {
            case "K":
                self = .Kelvin
            case "C":
                self = .Celsius
            case "F":
                self = .Fahrenheit
            default:
                return nil
        }
    }
}
let fahrenheitUnit = TemperatureUnit(symbol: "F")
if fahrenheitUnit != nil {
    print("This is a defined temperature unit, so initialization succeeded.")
}
let unknownUnit = TemperatureUnit(symbol: "X")
if unknownUnit == nil {
    print("This is not a defined temperature unit, so initialization failed.")
}

//6.2 å¸¦åŸå§‹å€¼çš„æšä¸¾ç±»å‹çš„å¯å¤±è´¥æ„é€ å™¨
/**
 å¸¦åŸå§‹å€¼çš„æšä¸¾ç±»å‹ä¼šè‡ªå¸¦ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨ init?(rawValue:)ï¼Œè¯¥å¯å¤±è´¥æ„é€ å™¨æœ‰ä¸€ä¸ªåä¸º rawValue çš„å‚æ•°ï¼Œå…¶ç±»å‹å’Œæšä¸¾ç±»å‹çš„åŸå§‹å€¼ç±»å‹ä¸€è‡´ï¼Œå¦‚æœè¯¥å‚æ•°çš„å€¼èƒ½å¤Ÿå’ŒæŸä¸ªæšä¸¾æˆå‘˜çš„åŸå§‹å€¼åŒ¹é…ï¼Œåˆ™è¯¥æ„é€ å™¨ä¼šæ„é€ ç›¸åº”çš„æšä¸¾æˆå‘˜ï¼Œå¦åˆ™æ„é€ å¤±è´¥ã€‚
 */

enum TemperatureUnit2: Character {
    case Kelvin = "K", Celsius = "C", Fahrenheit = "F"
}
let fahrenheitUnit2 = TemperatureUnit2(rawValue: "F")
if fahrenheitUnit2 != nil {
    print("This is a defined temperature unit, so initialization succeeded.")
}

let unknownUnit2 = TemperatureUnit2(rawValue: "X")
if unknownUnit2 == nil {
    print("This is not a defined temperature unit, so initialization failed.")
}
//6.3 æ„é€ å¤±è´¥çš„ä¼ é€’
/**
 ç±»ï¼Œç»“æ„ä½“ï¼Œæšä¸¾çš„å¯å¤±è´¥æ„é€ å™¨å¯ä»¥æ¨ªå‘ä»£ç†åˆ°åŒç±»å‹ä¸­çš„å…¶ä»–å¯å¤±è´¥æ„é€ å™¨ã€‚ç±»ä¼¼çš„ï¼Œå­ç±»çš„å¯å¤±è´¥æ„é€ å™¨ä¹Ÿèƒ½å‘ä¸Šä»£ç†åˆ°çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨.
 
 æ— è®ºæ˜¯å‘ä¸Šä»£ç†è¿˜æ˜¯æ¨ªå‘ä»£ç†ï¼Œå¦‚æœä½ ä»£ç†åˆ°çš„å…¶ä»–å¯å¤±è´¥æ„é€ å™¨è§¦å‘æ„é€ å¤±è´¥ï¼Œæ•´ä¸ªæ„é€ è¿‡ç¨‹å°†ç«‹å³ç»ˆæ­¢ï¼Œæ¥ä¸‹æ¥çš„ä»»ä½•æ„é€ ä»£ç ä¸ä¼šå†è¢«æ‰§è¡Œã€‚
 
 
 æ³¨: å¯å¤±è´¥æ„é€ å™¨ä¹Ÿå¯ä»¥ä»£ç†åˆ°å…¶å®ƒçš„éå¯å¤±è´¥æ„é€ å™¨ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥å¢åŠ ä¸€ä¸ªå¯èƒ½çš„å¤±è´¥çŠ¶æ€åˆ°ç°æœ‰çš„æ„é€ è¿‡ç¨‹ä¸­ã€‚
 */

class Product {
    let name: String
    init?(name: String){
        if name.isEmpty {
            return nil
        }
        self.name = name
    }
}

class CartItem: Product {
    let quantity: Int
    init?(name: String, quantity: Int) {
        if quantity < 1 {
            // è‹¥ quantity å€¼æ— æ•ˆï¼Œåˆ™ç«‹å³ç»ˆæ­¢æ•´ä¸ªæ„é€ è¿‡ç¨‹ï¼Œè¿”å›å¤±è´¥ç»“æœï¼Œä¸”ä¸å†æ‰§è¡Œä½™ä¸‹ä»£ç 
            return nil
        }
        self.quantity = quantity
        super.init(name: name)
    }
}
if let twoSocks = CartItem(name: "sock", quantity: 2) {
    print("Item: \(twoSocks.name), quantity: \(twoSocks.quantity)")
}
if let zeroShirts = CartItem(name: "shirt", quantity: 0) {
    print("Item: \(zeroShirts.name), quantity: \(zeroShirts.quantity)")
} else {
    print("Unable to initialize zero shirts")
}
if let oneUnnamed = CartItem(name: "", quantity: 1) {
    print("Item: \(oneUnnamed.name), quantity: \(oneUnnamed.quantity)")
} else {
    print("Unable to initialize one unnamed product")
}

//6.4 é‡å†™ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨
/**
 å¦‚åŒå…¶å®ƒçš„æ„é€ å™¨ï¼Œä½ å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨ã€‚æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç”¨å­ç±»çš„éå¯å¤±è´¥æ„é€ å™¨é‡å†™ä¸€ä¸ªçˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨ã€‚è¿™ä½¿ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªä¸ä¼šæ„é€ å¤±è´¥çš„å­ç±»ï¼Œå³ä½¿çˆ¶ç±»çš„æ„é€ å™¨å…è®¸æ„é€ å¤±è´¥ã€‚
 
 æ³¨: å½“ä½ ç”¨å­ç±»çš„éå¯å¤±è´¥æ„é€ å™¨é‡å†™çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨æ—¶ï¼Œå‘ä¸Šä»£ç†åˆ°çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨çš„å”¯ä¸€æ–¹å¼æ˜¯å¯¹çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨çš„è¿”å›å€¼è¿›è¡Œå¼ºåˆ¶è§£åŒ…
 
 æ³¨: ä½ å¯ä»¥ç”¨éå¯å¤±è´¥æ„é€ å™¨é‡å†™å¯å¤±è´¥æ„é€ å™¨ï¼Œä½†åè¿‡æ¥å´ä¸è¡Œã€‚
 */

class Document {
    var name: String?
    
    // è¯¥æ„é€ å™¨åˆ›å»ºäº†ä¸€ä¸ª name å±æ€§çš„å€¼ä¸º nil çš„ document å®ä¾‹
    init(){}
    
    // è¯¥æ„é€ å™¨åˆ›å»ºäº†ä¸€ä¸ª name å±æ€§çš„å€¼ä¸ºéç©ºå­—ç¬¦ä¸²çš„ document å®ä¾‹
    init?(name: String) {
        self.name = name
        if name.isEmpty { return nil }
    }
}

class AutomaticallyNamedDocument: Document{
    override init() {
        super.init()
        self.name = "[Untitled]"
    }
    override init(name: String) { // éå¯å¤±è´¥æ„é€ å™¨ init(name:) é‡å†™äº†çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨ init?(name:)
        super.init()
        if name.isEmpty {
            self.name = "[Untitled]"
        }else {
            self.name = name
        }
    }
}

// åœ¨å­ç±»çš„éå¯å¤±è´¥æ„é€ å™¨ä¸­ä½¿ç”¨å¼ºåˆ¶è§£åŒ…æ¥è°ƒç”¨çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨
class UntitledDocument: Document {
    override init() {
        super.init(name: "[Untitled]")! //å¦‚æœåœ¨è°ƒç”¨çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨ init?(name:) æ—¶ä¼ å…¥çš„æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå¼ºåˆ¶è§£åŒ…æ“ä½œä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯
    }
    
    override init!(name: String) {
        if name.isEmpty {
            super.init(name: "[Untitled]")!
        }else {
            super.init(name: name)!
        }
    }
}
let untitle = UntitledDocument(name: "")
print(untitle!)

//6.5 init!å¯å¤±è´¥æ„é€ å™¨
/**
 é€šå¸¸æ¥è¯´æˆ‘ä»¬é€šè¿‡åœ¨ init å…³é”®å­—åæ·»åŠ é—®å·çš„æ–¹å¼ï¼ˆinit?ï¼‰æ¥å®šä¹‰ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨ï¼Œä½†ä½ ä¹Ÿå¯ä»¥é€šè¿‡åœ¨ init åé¢æ·»åŠ æƒŠå¹å·çš„æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨ï¼ˆinit!ï¼‰ï¼Œè¯¥å¯å¤±è´¥æ„é€ å™¨å°†ä¼šæ„å»ºä¸€ä¸ªå¯¹åº”ç±»å‹çš„éšå¼è§£åŒ…å¯é€‰ç±»å‹çš„å¯¹è±¡ã€‚
 
 ä½ å¯ä»¥åœ¨ init? ä¸­ä»£ç†åˆ° init!ï¼Œåä¹‹äº¦ç„¶ã€‚ä½ ä¹Ÿå¯ä»¥ç”¨ init? é‡å†™ init!ï¼Œåä¹‹äº¦ç„¶ã€‚ä½ è¿˜å¯ä»¥ç”¨ init ä»£ç†åˆ° init!ï¼Œä¸è¿‡ï¼Œä¸€æ—¦ init! æ„é€ å¤±è´¥ï¼Œåˆ™ä¼šè§¦å‘ä¸€ä¸ªæ–­è¨€ã€‚
 */

//7. å¿…è¦æ„é€ å™¨
/**
 åœ¨ç±»çš„æ„é€ å™¨å‰æ·»åŠ  required ä¿®é¥°ç¬¦è¡¨æ˜æ‰€æœ‰è¯¥ç±»çš„å­ç±»éƒ½å¿…é¡»å®ç°è¯¥æ„é€ å™¨ï¼š
 
 class SomeClass {
     required init() {
         // æ„é€ å™¨çš„å®ç°ä»£ç 
     }
 }
 
 åœ¨å­ç±»é‡å†™çˆ¶ç±»çš„å¿…è¦æ„é€ å™¨æ—¶ï¼Œå¿…é¡»åœ¨å­ç±»çš„æ„é€ å™¨å‰ä¹Ÿæ·»åŠ  required ä¿®é¥°ç¬¦ï¼Œè¡¨æ˜è¯¥æ„é€ å™¨è¦æ±‚ä¹Ÿåº”ç”¨äºç»§æ‰¿é“¾åé¢çš„å­ç±»ã€‚åœ¨é‡å†™çˆ¶ç±»ä¸­å¿…è¦çš„æŒ‡å®šæ„é€ å™¨æ—¶ï¼Œä¸éœ€è¦æ·»åŠ  override ä¿®é¥°ç¬¦ï¼š
 class SomeSubclass: SomeClass {
     required init() {
         // æ„é€ å™¨çš„å®ç°ä»£ç 
     }
 }
 
 æ³¨: å¦‚æœå­ç±»ç»§æ‰¿çš„æ„é€ å™¨èƒ½æ»¡è¶³å¿…è¦æ„é€ å™¨çš„è¦æ±‚ï¼Œåˆ™æ— é¡»åœ¨å­ç±»ä¸­æ˜¾å¼æä¾›å¿…è¦æ„é€ å™¨çš„å®ç°ã€‚
 */
//8. é€šè¿‡é—­åŒ…æˆ–å‡½æ•°è®¾ç½®å±æ€§çš„é»˜è®¤å€¼
/**
æ¯å½“æŸä¸ªå±æ€§æ‰€åœ¨ç±»å‹çš„æ–°å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œå¯¹åº”çš„é—­åŒ…æˆ–å‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œè€Œå®ƒä»¬çš„è¿”å›å€¼ä¼šå½“åšé»˜è®¤å€¼èµ‹å€¼ç»™è¿™ä¸ªå±æ€§ã€‚
 
 è¯­æ³•:
 class SomeClass {
     let someProperty: SomeType = {
         // åœ¨è¿™ä¸ªé—­åŒ…ä¸­ç»™ someProperty åˆ›å»ºä¸€ä¸ªé»˜è®¤å€¼
         // someValue å¿…é¡»å’Œ SomeType ç±»å‹ç›¸åŒ
         return someValue
     }()
 }
 
 
 æ³¨: å¦‚æœä½ ä½¿ç”¨é—­åŒ…æ¥åˆå§‹åŒ–å±æ€§ï¼Œè¯·è®°ä½åœ¨é—­åŒ…æ‰§è¡Œæ—¶ï¼Œå®ä¾‹çš„å…¶å®ƒéƒ¨åˆ†éƒ½è¿˜æ²¡æœ‰åˆå§‹åŒ–ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½åœ¨é—­åŒ…é‡Œè®¿é—®å…¶å®ƒå±æ€§ï¼Œå³ä½¿è¿™äº›å±æ€§æœ‰é»˜è®¤å€¼ã€‚åŒæ ·ï¼Œä½ ä¹Ÿä¸èƒ½ä½¿ç”¨éšå¼çš„ self å±æ€§ï¼Œæˆ–è€…è°ƒç”¨ä»»ä½•å®ä¾‹æ–¹æ³•ã€‚
 
 */

struct Chessboard {
    let boardColors:[Bool] = {
        var temporaryBoard = [Bool]()
        var isBlack = false
        for i in 1...8{
            for j in 1...8{
                temporaryBoard.append(isBlack)
                isBlack = !isBlack
            }
            isBlack = !isBlack
        }
        return temporaryBoard
    }()
    
    func squareIsBlackAt(row: Int, column: Int) -> Bool {
        return boardColors[row * 8 + column]
    }
}
let board = Chessboard()
print(board.squareIsBlackAt(row: 0, column: 1))
print(board.squareIsBlackAt(row: 7, column: 7))
