//
//  main.swift
//  10-ä¸‹æ ‡
//
//  Created by tangl on 2019/11/14  12:09 AM
//  Copyright Â© 2019 km7. All rights reserved.
//
//  ---------------------------------------------------------
//  ğŸ˜ƒ  https://github.com/7kms
//  çƒ­çˆ±ç”Ÿæ´», å‹¤äºæ€è€ƒ, åŠªåŠ›å­¦ä¹ 
//  ---------------------------------------------------------
//

import Foundation

/**
 subscrips
 ä¸‹æ ‡å¯ä»¥å®šä¹‰åœ¨ç±»ã€ç»“æ„ä½“å’Œæšä¸¾ä¸­ï¼Œæ˜¯è®¿é—®é›†åˆã€åˆ—è¡¨æˆ–åºåˆ—ä¸­å…ƒç´ çš„å¿«æ·æ–¹å¼.å¯ä»¥ä½¿ç”¨ä¸‹æ ‡çš„ç´¢å¼•ï¼Œè®¾ç½®å’Œè·å–å€¼ï¼Œè€Œä¸éœ€è¦å†è°ƒç”¨å¯¹åº”çš„å­˜å–æ–¹æ³•

 å¦‚:
 1. è®¿é—®ä¸€ä¸ªArrayå®ä¾‹ä¸­çš„å…ƒç´ , someArray[index]
 2. è®¿é—®ä¸€ä¸ªDictionaryå®ä¾‹ä¸­çš„å…ƒç´ , someDictionary[key]
 
 
 ä¸€ä¸ªç±»å‹å¯ä»¥å®šä¹‰å¤šä¸ªä¸‹æ ‡ï¼Œé€šè¿‡ä¸åŒç´¢å¼•ç±»å‹è¿›è¡Œé‡è½½. ä¸‹æ ‡ä¸é™äºä¸€ç»´ï¼Œä½ å¯ä»¥å®šä¹‰å…·æœ‰å¤šä¸ªå…¥å‚çš„ä¸‹æ ‡æ»¡è¶³è‡ªå®šä¹‰ç±»å‹çš„éœ€æ±‚ã€‚
 */

//1. ä¸‹æ ‡è¯­æ³•
/**
 1. è¯»å–: åœ¨å®ä¾‹åç§°åé¢çš„æ–¹æ‹¬å·([])ä¸­ä¼ å…¥ä¸€ä¸ªæˆ–è€…å¤šä¸ªç´¢å¼•å€¼æ¥å¯¹å®ä¾‹è¿›è¡Œå­˜å–
 2. å®šä¹‰: å®šä¹‰ä¸‹æ ‡ä½¿ç”¨ subscript å…³é”®å­—, æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥å‚æ•°å’Œè¿”å›ç±»å‹
 
 ä¸å®ä¾‹æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œä¸‹æ ‡å¯ä»¥è®¾å®šä¸ºè¯»å†™æˆ–åªè¯»ã€‚è¿™ç§è¡Œä¸ºç”± getter å’Œ setter å®ç°ï¼Œæœ‰ç‚¹ç±»ä¼¼è®¡ç®—å‹å±æ€§ï¼š
 
 subscript(index: Int) -> Int {
     get {
       // è¿”å›ä¸€ä¸ªé€‚å½“çš„ Int ç±»å‹çš„å€¼
     }

     set(newValue) { //å¦‚åŒè®¡ç®—å‹å±æ€§ï¼Œå¯ä»¥ä¸æŒ‡å®š setter çš„å‚æ•°ï¼ˆnewValueï¼‰ã€‚å¦‚æœä¸æŒ‡å®šå‚æ•°ï¼Œsetter ä¼šæä¾›ä¸€ä¸ªåä¸º newValue çš„é»˜è®¤å‚æ•°
       // æ‰§è¡Œé€‚å½“çš„èµ‹å€¼æ“ä½œ
     }
 }
 
åªè¯»ä¸‹æ ‡: åªæä¾›getteræ–¹æ³•,  å’Œåªè¯»è®¡ç®—å±æ€§ä¸€æ ·, å¯ä»¥çœç•¥getå…³é”®å­—
 subscript(index: Int) -> Int {
     // è¿”å›ä¸€ä¸ªé€‚å½“çš„ Int ç±»å‹çš„å€¼
 }
 */

struct TimesTable {
    let multiplier: Int
    
    // TimesTable ä¾‹å­åŸºäºä¸€ä¸ªå›ºå®šçš„æ•°å­¦å…¬å¼ï¼Œå¯¹ threeTimesTable[someIndex] è¿›è¡Œèµ‹å€¼æ“ä½œå¹¶ä¸åˆé€‚ï¼Œå› æ­¤ä¸‹æ ‡å®šä¹‰ä¸ºåªè¯»çš„ã€‚
    subscript(index: Int) -> Int {
        return multiplier * index
    }
}

let threeTimesTable = TimesTable(multiplier: 3)
print("six times three is \(threeTimesTable[6])")



//2. ä¸‹æ ‡ç”¨æ³•
/**
 ä¸‹æ ‡é€šå¸¸ä½œä¸ºè®¿é—®é›†åˆï¼Œåˆ—è¡¨æˆ–åºåˆ—ä¸­å…ƒç´ çš„å¿«æ·æ–¹å¼
 ä½ å¯ä»¥é’ˆå¯¹è‡ªå·±ç‰¹å®šçš„ç±»æˆ–ç»“æ„ä½“çš„åŠŸèƒ½æ¥è‡ªç”±åœ°ä»¥æœ€æ°å½“çš„æ–¹å¼å®ç°ä¸‹æ ‡ã€‚
 */
var numberOfLegs = ["spider": 8, "ant": 6, "cat": 4] //å­—å…¸çš„ç±»å‹è¢«æ¨æ–­ä¸º [String: Int]
numberOfLegs["bird"] = 2

print(numberOfLegs["bird"]) //Optional(2)

/**
 æ³¨: Swift çš„ Dictionary ç±»å‹çš„ä¸‹æ ‡æ¥å—å¹¶è¿”å›å¯é€‰ç±»å‹çš„å€¼ã€‚ä¸Šä¾‹ä¸­çš„ numberOfLegs å­—å…¸é€šè¿‡ä¸‹æ ‡è¿”å›çš„æ˜¯ä¸€ä¸ª Int? æˆ–è€…è¯´â€œå¯é€‰çš„ intâ€ã€‚Dictionary ç±»å‹ä¹‹æ‰€ä»¥å¦‚æ­¤å®ç°ä¸‹æ ‡ï¼Œæ˜¯å› ä¸ºä¸æ˜¯æ¯ä¸ªé”®éƒ½æœ‰ä¸ªå¯¹åº”çš„å€¼ï¼ŒåŒæ—¶è¿™ä¹Ÿæä¾›äº†ä¸€ç§é€šè¿‡é”®åˆ é™¤å¯¹åº”å€¼çš„æ–¹å¼ï¼Œåªéœ€å°†é”®å¯¹åº”çš„å€¼èµ‹å€¼ä¸º nil å³å¯ã€‚
 */

//3. ä¸‹æ ‡é€‰é¡¹
/**
 ä¸‹æ ‡å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å…¥å‚ï¼Œå¹¶ä¸”è¿™äº›å…¥å‚å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚ä¸‹æ ‡çš„è¿”å›å€¼ä¹Ÿå¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚ä¸‹æ ‡å¯ä»¥ä½¿ç”¨å˜é‡å‚æ•°å’Œå¯å˜å‚æ•°ï¼Œä½†ä¸èƒ½ä½¿ç”¨è¾“å…¥è¾“å‡ºå‚æ•°ï¼Œä¹Ÿä¸èƒ½ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼ã€‚
 
 ä¸‹æ ‡çš„é‡è½½ :ä¸€ä¸ªç±»æˆ–ç»“æ„ä½“å¯ä»¥æ ¹æ®è‡ªèº«éœ€è¦æä¾›å¤šä¸ªä¸‹æ ‡å®ç°ï¼Œä½¿ç”¨ä¸‹æ ‡æ—¶å°†é€šè¿‡å…¥å‚çš„æ•°é‡å’Œç±»å‹è¿›è¡ŒåŒºåˆ†ï¼Œè‡ªåŠ¨åŒ¹é…åˆé€‚çš„ä¸‹æ ‡
 
 
 */

struct Matrix {
    let rows: Int, columns: Int
    var grid:Array<Double>
    
    init(rows: Int, columns: Int) {
        self.rows = rows
        self.columns = columns
        grid = Array(repeating: 0.0, count: rows * columns)
    }
    
    func indexIsValid(row: Int, column: Int) -> Bool {
        return row >= 0 && row < rows && column >= 0 && column < columns
    }
    
    subscript(row: Int, column: Int) -> Double{
        get{
            assert(indexIsValid(row: row, column: column), "Index out of range")//æ–­è¨€å°†åœ¨ä¸‹æ ‡è¶Šç•Œæ—¶è§¦å‘
            return grid[(row * columns) + column]
        }
        set{
            assert(indexIsValid(row: row, column: column), "Index out of range")
            grid[(row * columns) + column] = newValue
        }
    }
}

var matrix = Matrix(rows: 2, columns: 2)
matrix[0, 1] = 1.5
matrix[1, 0] = 3.2
print(matrix.grid)

let someValue = matrix[2,2] //æ–­è¨€å°†ä¼šè§¦å‘ï¼Œå› ä¸º [2, 2] å·²ç»è¶…è¿‡äº† matrix çš„èŒƒå›´
