//
//  main.swift
//  05-Èó≠ÂåÖ
//
//  Created by tangl on 2019/11/10  9:02 PM
//  Copyright ¬© 2019 km7. All rights reserved.
//
//  ---------------------------------------------------------
//  üòÉ  https://github.com/7kms
//  ÁÉ≠Áà±ÁîüÊ¥ª, Âã§‰∫éÊÄùËÄÉ, Âä™ÂäõÂ≠¶‰π†
//  ---------------------------------------------------------
//

import Foundation

/**
 Èó≠ÂåÖÊòØËá™ÂåÖÂê´ÁöÑÂáΩÊï∞‰ª£Á†ÅÂùóÔºåÂèØ‰ª•Âú®‰ª£Á†Å‰∏≠Ë¢´‰º†ÈÄíÂíå‰ΩøÁî®„ÄÇSwift ‰∏≠ÁöÑÈó≠ÂåÖ‰∏é C Âíå Objective-C ‰∏≠ÁöÑ‰ª£Á†ÅÂùóÔºàblocksÔºâ‰ª•ÂèäÂÖ∂‰ªñ‰∏Ä‰∫õÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÁöÑÂåøÂêçÂáΩÊï∞ÊØîËæÉÁõ∏‰ºº„ÄÇ
 
 
 Èó≠ÂåÖÂèØ‰ª•ÊçïËé∑ÂíåÂ≠òÂÇ®ÂÖ∂ÊâÄÂú®‰∏ä‰∏ãÊñá‰∏≠‰ªªÊÑèÂ∏∏ÈáèÂíåÂèòÈáèÁöÑÂºïÁî®„ÄÇË¢´Áß∞‰∏∫ÂåÖË£πÂ∏∏ÈáèÂíåÂèòÈáè„ÄÇ Swift ‰ºö‰∏∫‰Ω†ÁÆ°ÁêÜÂú®ÊçïËé∑ËøáÁ®ã‰∏≠Ê∂âÂèäÂà∞ÁöÑÊâÄÊúâÂÜÖÂ≠òÊìç‰Ωú„ÄÇ
 
 ÂÖ®Â±ÄÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÊúâÂêçÂ≠ó‰ΩÜ‰∏ç‰ºöÊçïËé∑‰ªª‰ΩïÂÄºÁöÑÈó≠ÂåÖ
 ÂµåÂ•óÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÊúâÂêçÂ≠óÂπ∂ÂèØ‰ª•ÊçïËé∑ÂÖ∂Â∞ÅÈó≠ÂáΩÊï∞ÂüüÂÜÖÂÄºÁöÑÈó≠ÂåÖ
 Èó≠ÂåÖË°®ËææÂºèÊòØ‰∏Ä‰∏™Âà©Áî®ËΩªÈáèÁ∫ßËØ≠Ê≥ïÊâÄÂÜôÁöÑÂèØ‰ª•ÊçïËé∑ÂÖ∂‰∏ä‰∏ãÊñá‰∏≠ÂèòÈáèÊàñÂ∏∏ÈáèÂÄºÁöÑÂåøÂêçÈó≠ÂåÖ
 */

//1. Èó≠ÂåÖË°®ËææÂºè
var names = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]
func backward(_ s1:String, _ s2:String) -> Bool {
    return s1 > s2
}
names.sort(by: backward)//sorted(by:) ÊñπÊ≥ïÊé•Âèó‰∏Ä‰∏™Èó≠ÂåÖÔºåËØ•Èó≠ÂåÖÂáΩÊï∞ÈúÄË¶Å‰º†ÂÖ•‰∏éÊï∞ÁªÑÂÖÉÁ¥†Á±ªÂûãÁõ∏ÂêåÁöÑ‰∏§‰∏™ÂÄºÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÁ±ªÂûãÂÄºÊù•Ë°®ÊòéÊéíÂ∫èËßÑÂàô


//1.1 Èó≠ÂåÖË°®ËææÂºèËØ≠Ê≥ï
/**
 { (parameters) -> return type in
     statements
 }
 */

/**
 ËÅîÈó≠ÂåÖÂèÇÊï∞ÂíåËøîÂõûÂÄºÁ±ªÂûãÂ£∞Êòé‰∏é backward(_:_:) ÂáΩÊï∞Á±ªÂûãÂ£∞ÊòéÁõ∏Âêå.
 ÈÉΩÊòØ(s1: String, s2: String) -> Bool
 
 Âú®ÂÜÖËÅîÈó≠ÂåÖË°®ËææÂºè‰∏≠ÔºåÂáΩÊï∞ÂíåËøîÂõûÂÄºÁ±ªÂûãÈÉΩÂÜôÂú®Â§ßÊã¨Âè∑ÂÜÖÔºåËÄå‰∏çÊòØÂ§ßÊã¨Âè∑Â§ñ
 Èó≠ÂåÖÁöÑÂáΩÊï∞‰ΩìÈÉ®ÂàÜÁî±ÂÖ≥ÈîÆÂ≠ó in ÂºïÂÖ•
 */
var reversedNames = names.sorted (by: { (s1:String, s2:String) -> Bool in
     return s1 > s2
})

//1.2 Ê†πÊçÆ‰∏ä‰∏ãÊñáÊé®Êñ≠Á±ªÂûã
/**
 Âõ†‰∏∫ÊéíÂ∫èÈó≠ÂåÖÂáΩÊï∞ÊòØ‰Ωú‰∏∫ sorted(by:) ÊñπÊ≥ïÁöÑÂèÇÊï∞‰º†ÂÖ•ÁöÑÔºåSwift ÂèØ‰ª•Êé®Êñ≠ÂÖ∂ÂèÇÊï∞ÂíåËøîÂõûÂÄºÁöÑÁ±ªÂûã
 
 sorted(by:) ÊñπÊ≥ïË¢´‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Êï∞ÁªÑË∞ÉÁî®ÔºåÂõ†Ê≠§ÂÖ∂ÂèÇÊï∞ÂøÖÈ°ªÊòØ (String, String) -> Bool Á±ªÂûã
 
 ÊâÄ‰ª•(String, String) Âíå Bool Á±ªÂûãÂπ∂‰∏çÈúÄË¶Å‰Ωú‰∏∫Èó≠ÂåÖË°®ËææÂºèÂÆö‰πâÁöÑ‰∏ÄÈÉ®ÂàÜ
 
 ÊâÄÊúâÁöÑÁ±ªÂûãÈÉΩÂèØ‰ª•Ë¢´Ê≠£Á°ÆÊé®Êñ≠ÔºåËøîÂõûÁÆ≠Â§¥Ôºà->ÔºâÂíåÂèÇÊï∞Âë®Âõ¥ÁöÑÊã¨Âè∑‰πüÂèØ‰ª•Ë¢´ÁúÅÁï•
 
 */

reversedNames = names.sorted(by: { s1, s2 in return s1>s2})
/**
 ÂÜÖËÅîÈó≠ÂåÖË°®ËææÂºè‰Ωú‰∏∫ÂáΩÊï∞ÁöÑÂèÇÊï∞Êó∂ÔºåÊÄªÊòØËÉΩÂ§üÊé®Êñ≠Âá∫Èó≠ÂåÖÁöÑÂèÇÊï∞ÂíåËøîÂõûÂÄºÁ±ªÂûã
 ËøôÊÑèÂë≥ÁùÄÈó≠ÂåÖ‰Ωú‰∏∫ÂáΩÊï∞ÊàñËÄÖÊñπÊ≥ïÁöÑÂèÇÊï∞Êó∂ÔºåÂá†‰πé‰∏çÈúÄË¶ÅÂà©Áî®ÂÆåÊï¥Ê†ºÂºèÊûÑÈÄ†ÂÜÖËÅîÈó≠ÂåÖ.
 */
print(reversedNames)



//1.3 ÂçïË°åË°®ËææÂºèÈó≠ÂåÖÈöêÂºèËøîÂõû
/**
 ÂçïË°åË°®ËææÂºèÈó≠ÂåÖÂèØ‰ª•ÈÄöËøáÁúÅÁï• return ÂÖ≥ÈîÆÂ≠óÊù•ÈöêÂºèËøîÂõûÂçïË°åË°®ËææÂºèÁöÑÁªìÊûú
 */
reversedNames = names.sorted(by: {s1,s2 in s1>s2})
print(reversedNames)

//1.4 ÂèÇÊï∞ÂêçÁß∞Áº©ÂÜô
/**
 Swift Ëá™Âä®‰∏∫ÂÜÖËÅîÈó≠ÂåÖÊèê‰æõ‰∫ÜÂèÇÊï∞ÂêçÁß∞Áº©ÂÜôÂäüËÉΩÔºå‰Ω†ÂèØ‰ª•Áõ¥Êé•ÈÄöËøá $0Ôºå$1Ôºå$2 Êù•È°∫Â∫èË∞ÉÁî®Èó≠ÂåÖÁöÑÂèÇÊï∞,‰ª•Ê≠§Á±ªÊé®
 
 
 Â¶ÇÊûúÂú®Èó≠ÂåÖË°®ËææÂºè‰∏≠‰ΩøÁî®ÂèÇÊï∞ÂêçÁß∞Áº©ÂÜôÔºåÂèØ‰ª•Âú®Èó≠ÂåÖÂÆö‰πâ‰∏≠ÁúÅÁï•ÂèÇÊï∞ÂàóË°®ÔºåÂπ∂‰∏îÂØπÂ∫îÂèÇÊï∞ÂêçÁß∞Áº©ÂÜôÁöÑÁ±ªÂûã‰ºöÈÄöËøáÂáΩÊï∞Á±ªÂûãËøõË°åÊé®Êñ≠„ÄÇin ÂÖ≥ÈîÆÂ≠ó‰πüÂêåÊ†∑ÂèØ‰ª•Ë¢´ÁúÅÁï•ÔºåÂõ†‰∏∫Ê≠§Êó∂Èó≠ÂåÖË°®ËææÂºèÂÆåÂÖ®Áî±Èó≠ÂåÖÂáΩÊï∞‰ΩìÊûÑÊàêÔºö
 */

reversedNames = names.sorted(by: {$0 > $1})
print(reversedNames)

//1.5 ËøêÁÆóÁ¨¶ÊñπÊ≥ï
/**
 wift ÁöÑ String Á±ªÂûãÂÆö‰πâ‰∫ÜÂÖ≥‰∫éÂ§ß‰∫éÂè∑Ôºà>ÔºâÁöÑÂ≠óÁ¨¶‰∏≤ÂÆûÁé∞ÔºåÂÖ∂‰Ωú‰∏∫‰∏Ä‰∏™ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ String Á±ªÂûãÁöÑÂèÇÊï∞Âπ∂ËøîÂõû Bool Á±ªÂûãÁöÑÂÄº„ÄÇËÄåËøôÊ≠£Â•Ω‰∏é sorted(by:) ÊñπÊ≥ïÁöÑÂèÇÊï∞ÈúÄË¶ÅÁöÑÂáΩÊï∞Á±ªÂûãÁõ∏Á¨¶Âêà
 
 Âõ†Ê≠§ÔºåÂèØ‰ª•ÁÆÄÂçïÂú∞‰º†ÈÄí‰∏Ä‰∏™Â§ß‰∫éÂè∑ÔºåSwift ÂèØ‰ª•Ëá™Âä®Êé®Êñ≠Âá∫‰Ω†ÊÉ≥‰ΩøÁî®Â§ß‰∫éÂè∑ÁöÑÂ≠óÁ¨¶‰∏≤ÂáΩÊï∞ÂÆûÁé∞
 */
reversedNames = names.sorted(by: >)


//2 Â∞æÈöèÈó≠ÂåÖ
/**
 Â∞æÈöèÈó≠ÂåÖÊòØ‰∏Ä‰∏™‰π¶ÂÜôÂú®ÂáΩÊï∞Êã¨Âè∑‰πãÂêéÁöÑÈó≠ÂåÖË°®ËææÂºèÔºåÂáΩÊï∞ÊîØÊåÅÂ∞ÜÂÖ∂‰Ωú‰∏∫ÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞Ë∞ÉÁî®„ÄÇÂú®‰ΩøÁî®Â∞æÈöèÈó≠ÂåÖÊó∂Ôºå‰Ω†‰∏çÁî®ÂÜôÂá∫ÂÆÉÁöÑÂèÇÊï∞
 
 
 ÂΩìÈó≠ÂåÖÈùûÂ∏∏Èïø‰ª•Ëá≥‰∫é‰∏çËÉΩÂú®‰∏ÄË°å‰∏≠ËøõË°å‰π¶ÂÜôÊó∂ÔºåÂ∞æÈöèÈó≠ÂåÖÂèòÂæóÈùûÂ∏∏ÊúâÁî®
 */
func someFunctionThatTakesAClosure(closure: () -> Void) {
    // ÂáΩÊï∞‰ΩìÈÉ®ÂàÜ
}

// ‰ª•‰∏ãÊòØ‰∏ç‰ΩøÁî®Â∞æÈöèÈó≠ÂåÖËøõË°åÂáΩÊï∞Ë∞ÉÁî®
someFunctionThatTakesAClosure (closure: {
    // Èó≠ÂåÖ‰∏ª‰ΩìÈÉ®ÂàÜ
})

// ‰ª•‰∏ãÊòØ‰ΩøÁî®Â∞æÈöèÈó≠ÂåÖËøõË°åÂáΩÊï∞Ë∞ÉÁî®
someFunctionThatTakesAClosure() {
    // Èó≠ÂåÖ‰∏ª‰ΩìÈÉ®ÂàÜ
}

reversedNames = names.sorted(){$0 > $1}

//Â¶ÇÊûúÈó≠ÂåÖË°®ËææÂºèÊòØÂáΩÊï∞ÊàñÊñπÊ≥ïÁöÑÂîØ‰∏ÄÂèÇÊï∞ÔºåÂàôÂΩì‰Ω†‰ΩøÁî®Â∞æÈöèÈó≠ÂåÖÊó∂Ôºå‰Ω†ÁîöËá≥ÂèØ‰ª•Êää () ÁúÅÁï•ÊéâÔºö
reversedNames = names.sorted{$0 > $1}

let digitNames = [
    0: "Zero", 1: "One", 2: "Two",   3: "Three", 4: "Four",
    5: "Five", 6: "Six", 7: "Seven", 8: "Eight", 9: "Nine"
]

let numbers = [16, 58, 510]

// Èó≠ÂåÖË°®ËææÂºèÊåáÂÆö‰∫ÜËøîÂõûÁ±ªÂûã‰∏∫ String , ÊïÖstrings Â∏∏ÈáèË¢´Êé®Êñ≠‰∏∫Â≠óÁ¨¶‰∏≤Á±ªÂûãÊï∞ÁªÑÔºåÂç≥ [String]
let strings = numbers.map { (number) -> String in
    var number = number // Â±ÄÈÉ®ÂèòÈáè number ÁöÑÂÄºÁî±Èó≠ÂåÖ‰∏≠ÁöÑ number ÂèÇÊï∞Ëé∑ÂæóÔºåÂõ†Ê≠§ÂèØ‰ª•Âú®Èó≠ÂåÖÂáΩÊï∞‰ΩìÂÜÖÂØπÂÖ∂ËøõË°å‰øÆÊîπÔºå(Èó≠ÂåÖÊàñËÄÖÂáΩÊï∞ÁöÑÂèÇÊï∞ÊÄªÊòØÂ∏∏Èáè)
    var output = ""
    repeat {
        output = digitNames[number % 10]! + output // Áî±‰∫éÂèØ‰ª•Á°ÆÂÆö number % 10 ÊÄªÊòØ digitNames Â≠óÂÖ∏ÁöÑÊúâÊïà‰∏ãÊ†áÔºåÂõ†Ê≠§!ÂèØ‰ª•Áî®‰∫éÂº∫Âà∂Ëß£ÂåÖÔºàforce-unwrapÔºâ
        number /= 10
    } while number > 0
    
    return output
}
print(strings)

//3. ÂÄºÊçïËé∑
/**
 Èó≠ÂåÖÂèØ‰ª•Âú®ÂÖ∂Ë¢´ÂÆö‰πâÁöÑ‰∏ä‰∏ãÊñá‰∏≠ÊçïËé∑Â∏∏ÈáèÊàñÂèòÈáè„ÄÇÂç≥‰ΩøÂÆö‰πâËøô‰∫õÂ∏∏ÈáèÂíåÂèòÈáèÁöÑÂéü‰ΩúÁî®ÂüüÂ∑≤Áªè‰∏çÂ≠òÂú®ÔºåÈó≠ÂåÖ‰ªçÁÑ∂ÂèØ‰ª•Âú®Èó≠ÂåÖÂáΩÊï∞‰ΩìÂÜÖÂºïÁî®Âíå‰øÆÊîπËøô‰∫õÂÄº„ÄÇ
 
 
 Swift ‰∏≠ÔºåÂèØ‰ª•ÊçïËé∑ÂÄºÁöÑÈó≠ÂåÖÁöÑÊúÄÁÆÄÂçïÂΩ¢ÂºèÊòØÂµåÂ•óÂáΩÊï∞„ÄÇË¢´ÂµåÂ•óÂáΩÊï∞ÂèØ‰ª•ÊçïËé∑ÂÖ∂Â§ñÈÉ®ÂáΩÊï∞ÊâÄÊúâÁöÑÂèÇÊï∞‰ª•ÂèäÂÆö‰πâÁöÑÂ∏∏ÈáèÂíåÂèòÈáè„ÄÇ
 
 */

func makeIncrementer(forIncrement amount: Int) -> () -> Int {// ËøîÂõûÁ±ªÂûã‰∏∫ () -> Int„ÄÇËøôÊÑèÂë≥ÁùÄÂÖ∂ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÂáΩÊï∞
    var runningTotal = 0
    func incrementer() -> Int {
        /**
         Âú®ÂáΩÊï∞‰ΩìÂÜÖËÆøÈóÆ‰∫Ü runningTotal Âíå amount ÂèòÈáè„ÄÇÂõ†‰∏∫‰ªéÂ§ñÂõ¥ÂáΩÊï∞ÊçïËé∑‰∫Ü runningTotal Âíå amount ÂèòÈáèÁöÑÂºïÁî®
         
         ÊçïËé∑ÂºïÁî®‰øùËØÅ‰∫Ü runningTotal Âíå amount ÂèòÈáèÂú®Ë∞ÉÁî®ÂÆå makeIncrementer Âêé‰∏ç‰ºöÊ∂àÂ§±ÔºåÂπ∂‰∏î‰øùËØÅ‰∫ÜÂú®‰∏ã‰∏ÄÊ¨°ÊâßË°å incrementer ÂáΩÊï∞Êó∂ÔºårunningTotal ‰æùÊóßÂ≠òÂú®
         */
        runningTotal += amount
        return runningTotal
    }
    return incrementer
}
/**
 ‰∏∫‰∫Ü‰ºòÂåñÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÂÄº‰∏ç‰ºöË¢´Èó≠ÂåÖÊîπÂèòÔºåÊàñËÄÖÂú®Èó≠ÂåÖÂàõÂª∫Âêé‰∏ç‰ºöÊîπÂèòÔºåSwift ÂèØËÉΩ‰ºöÊîπ‰∏∫ÊçïËé∑Âπ∂‰øùÂ≠ò‰∏Ä‰ªΩÂØπÂÄºÁöÑÊã∑Ë¥ù„ÄÇ

 Swift ‰πü‰ºöË¥üË¥£Ë¢´ÊçïËé∑ÂèòÈáèÁöÑÊâÄÊúâÂÜÖÂ≠òÁÆ°ÁêÜÂ∑•‰ΩúÔºåÂåÖÊã¨ÈáäÊîæ‰∏çÂÜçÈúÄË¶ÅÁöÑÂèòÈáè„ÄÇ
 */

let incrementByTen = makeIncrementer(forIncrement: 10)
print(incrementByTen())
print(incrementByTen())
print(incrementByTen())

let incrementBySeven = makeIncrementer(forIncrement: 7)
print(incrementBySeven())// ÂàõÂª∫‰∫ÜÂè¶‰∏Ä‰∏™ incrementerÔºåÂÆÉ‰ºöÊúâÂ±û‰∫éËá™Â∑±ÁöÑÂºïÁî®ÔºåÊåáÂêë‰∏Ä‰∏™ÂÖ®Êñ∞„ÄÅÁã¨Á´ãÁöÑ runningTotal ÂèòÈáè

/**
 Ê≥®:
 Â¶ÇÊûú‰Ω†Â∞ÜÈó≠ÂåÖËµãÂÄºÁªô‰∏Ä‰∏™Á±ªÂÆû‰æãÁöÑÂ±ûÊÄßÔºåÂπ∂‰∏îËØ•Èó≠ÂåÖÈÄöËøáËÆøÈóÆËØ•ÂÆû‰æãÊàñÂÖ∂ÊàêÂëòËÄåÊçïËé∑‰∫ÜËØ•ÂÆû‰æãÔºå‰Ω†Â∞ÜÂú®Èó≠ÂåÖÂíåËØ•ÂÆû‰æãÈó¥ÂàõÂª∫‰∏Ä‰∏™Âæ™ÁéØÂº∫ÂºïÁî®„ÄÇSwift ‰ΩøÁî®ÊçïËé∑ÂàóË°®Êù•ÊâìÁ†¥ËøôÁßçÂæ™ÁéØÂº∫ÂºïÁî®
 */

//4. Èó≠ÂåÖÊòØÂºïÁî®Á±ªÂûã
/**
 ‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåincrementBySeven Âíå incrementByTen ÈÉΩÊòØÂ∏∏ÈáèÔºå‰ΩÜÊòØËøô‰∫õÂ∏∏ÈáèÊåáÂêëÁöÑÈó≠ÂåÖ‰ªçÁÑ∂ÂèØ‰ª•Â¢ûÂä†ÂÖ∂ÊçïËé∑ÁöÑÂèòÈáèÁöÑÂÄº„ÄÇËøôÊòØÂõ†‰∏∫ÂáΩÊï∞ÂíåÈó≠ÂåÖÈÉΩÊòØÂºïÁî®Á±ªÂûã
 
 Â∞ÜÂáΩÊï∞ÊàñÈó≠ÂåÖËµãÂÄºÁªô‰∏Ä‰∏™Â∏∏ÈáèÊàñÂèòÈáèÔºåÂÆûÈôÖ‰∏äÊòØÂ∞ÜÂ∏∏ÈáèÊàñÂèòÈáèÁöÑÂÄºËÆæÁΩÆ‰∏∫ÂØπÂ∫îÂáΩÊï∞ÊàñÈó≠ÂåÖÁöÑÂºïÁî®„ÄÇ
 ‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊåáÂêëÈó≠ÂåÖÁöÑÂºïÁî® incrementByTen ÊòØ‰∏Ä‰∏™Â∏∏ÈáèÔºåËÄåÂπ∂ÈùûÈó≠ÂåÖÂÜÖÂÆπÊú¨Ë∫´
 
 Ëøô‰πüÊÑèÂë≥ÁùÄÂ¶ÇÊûú‰Ω†Â∞ÜÈó≠ÂåÖËµãÂÄºÁªô‰∫Ü‰∏§‰∏™‰∏çÂêåÁöÑÂ∏∏ÈáèÊàñÂèòÈáèÔºå‰∏§‰∏™ÂÄºÈÉΩ‰ºöÊåáÂêëÂêå‰∏Ä‰∏™Èó≠ÂåÖ
 */

let alsoIncrementByTen = incrementByTen
print(alsoIncrementByTen())

//5. ÈÄÉÈÄ∏Èó≠ÂåÖ
/**
 ÂΩì‰∏Ä‰∏™Èó≠ÂåÖ‰Ωú‰∏∫ÂèÇÊï∞‰º†Âà∞‰∏Ä‰∏™ÂáΩÊï∞‰∏≠Ôºå‰ΩÜÊòØËøô‰∏™Èó≠ÂåÖÂú®ÂáΩÊï∞ËøîÂõû‰πãÂêéÊâçË¢´ÊâßË°åÔºåÊàë‰ª¨Áß∞ËØ•Èó≠ÂåÖ‰ªéÂáΩÊï∞‰∏≠ÈÄÉÈÄ∏„ÄÇ
 
 ÂΩìÂÆö‰πâÊé•ÂèóÈó≠ÂåÖ‰Ωú‰∏∫ÂèÇÊï∞ÁöÑÂáΩÊï∞Êó∂ÔºåÂèØ‰ª•Âú®ÂèÇÊï∞Âêç‰πãÂâçÊ†áÊ≥®@escapingÔºåÁî®Êù•ÊåáÊòéËøô‰∏™Èó≠ÂåÖÊòØÂÖÅËÆ∏‚ÄúÈÄÉÈÄ∏‚ÄùÂá∫Ëøô‰∏™ÂáΩÊï∞ÁöÑ„ÄÇ
 */

var completionHandlers: [() -> Void] = []
func someFunctionWithEscapingClosure(completionHandler: @escaping () -> Void) {
    completionHandlers.append(completionHandler)
}

func someFunctionWithNonescapingClosure(closure: () -> Void) {
    closure()
}
class SomeClass {
    var x = 10
    func doSomething() {
        
        //Â∞Ü‰∏Ä‰∏™Èó≠ÂåÖÊ†áËÆ∞‰∏∫ @escaping ÊÑèÂë≥ÁùÄÂøÖÈ°ªÂú®Èó≠ÂåÖ‰∏≠ÊòæÂºèÂú∞ÂºïÁî® self
        someFunctionWithEscapingClosure { self.x = 100 }
        
        //ÈùûÈÄÉÈÄ∏Èó≠ÂåÖÔºåËøôÊÑèÂë≥ÁùÄÂÆÉÂèØ‰ª•ÈöêÂºèÂºïÁî® self
        someFunctionWithNonescapingClosure { x = 200 }
    }
}

let instance = SomeClass()
instance.doSomething()
print(instance.x)

completionHandlers.first?()
print(instance.x)

//6. Ëá™Âä®Èó≠ÂåÖ
/**
 Ëá™Âä®Èó≠ÂåÖÊòØ‰∏ÄÁßçËá™Âä®ÂàõÂª∫ÁöÑÈó≠ÂåÖÔºåÁî®‰∫éÂåÖË£Ö‰º†ÈÄíÁªôÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÁöÑË°®ËææÂºè„ÄÇËøôÁßçÈó≠ÂåÖ‰∏çÊé•Âèó‰ªª‰ΩïÂèÇÊï∞ÔºåÂΩìÂÆÉË¢´Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºå‰ºöËøîÂõûË¢´ÂåÖË£ÖÂú®ÂÖ∂‰∏≠ÁöÑË°®ËææÂºèÁöÑÂÄº„ÄÇËøôÁßç‰æøÂà©ËØ≠Ê≥ïËÆ©‰Ω†ËÉΩÂ§üÁúÅÁï•Èó≠ÂåÖÁöÑËä±Êã¨Âè∑ÔºåÁî®‰∏Ä‰∏™ÊôÆÈÄöÁöÑË°®ËææÂºèÊù•‰ª£ÊõøÊòæÂºèÁöÑÈó≠ÂåÖ„ÄÇ
 */

var customersInLine = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]
print(customersInLine.count)


// customerProvider ÁöÑÁ±ªÂûã‰∏çÊòØ StringÔºåËÄåÊòØ () -> String
let customerProvider = {
    //Âú®Èó≠ÂåÖË¢´Ë∞ÉÁî®‰πãÂâçÔºåËøô‰∏™ÂÖÉÁ¥†ÊòØ‰∏ç‰ºöË¢´ÁßªÈô§ÁöÑ
    //Â¶ÇÊûúËøô‰∏™Èó≠ÂåÖÊ∞∏Ëøú‰∏çË¢´Ë∞ÉÁî®ÔºåÈÇ£‰πàÂú®Èó≠ÂåÖÈáåÈù¢ÁöÑË°®ËææÂºèÂ∞ÜÊ∞∏Ëøú‰∏ç‰ºöÊâßË°å
    customersInLine.remove(at: 0)
}

print(customersInLine.count)

print("Now serving \(customerProvider())!")
print(customersInLine.count)



//ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ËøîÂõûÈ°æÂÆ¢ÂêçÂ≠óÁöÑÊòæÂºèÁöÑÈó≠ÂåÖ
func serve(customer customerProvider: () -> String) {
    print("Now serving \(customerProvider())!")
}
serve(customer: { customersInLine.remove(at: 0) } )


//ÈÄöËøáÂ∞ÜÂèÇÊï∞Ê†áËÆ∞‰∏∫ @autoclosure Êù•Êé•Êî∂‰∏Ä‰∏™Ëá™Âä®Èó≠ÂåÖ
//ÂèØ‰ª•Â∞ÜËØ•ÂáΩÊï∞ÂΩì‰ΩúÊé•Âèó String Á±ªÂûãÂèÇÊï∞ÔºàËÄåÈùûÈó≠ÂåÖÔºâÁöÑÂáΩÊï∞Êù•Ë∞ÉÁî®
func serve(customer customerProvider: @autoclosure () -> String) {//customerProvider ÂèÇÊï∞Â∞ÜËá™Âä®ËΩ¨Âåñ‰∏∫‰∏Ä‰∏™Èó≠ÂåÖÔºåÂõ†‰∏∫ËØ•ÂèÇÊï∞Ë¢´Ê†áËÆ∞‰∫Ü @autoclosure ÁâπÊÄß
    print("Now serving \(customerProvider())!")
}
serve(customer: customersInLine.remove(at: 0))
/**
 ËøáÂ∫¶‰ΩøÁî® autoclosures ‰ºöËÆ©‰Ω†ÁöÑ‰ª£Á†ÅÂèòÂæóÈöæ‰ª•ÁêÜËß£„ÄÇ‰∏ä‰∏ãÊñáÂíåÂáΩÊï∞ÂêçÂ∫îËØ•ËÉΩÂ§üÊ∏ÖÊô∞Âú∞Ë°®ÊòéÊ±ÇÂÄºÊòØË¢´Âª∂ËøüÊâßË°åÁöÑ„ÄÇ
 */



//Â¶ÇÊûúÊÉ≥ËÆ©‰∏Ä‰∏™Ëá™Âä®Èó≠ÂåÖÂèØ‰ª•‚ÄúÈÄÉÈÄ∏‚ÄùÔºåÂàôÂ∫îËØ•ÂêåÊó∂‰ΩøÁî® @autoclosure Âíå @escaping Â±ûÊÄß
var customerProviders: [() -> String] = []
func collectCustomerProviders(_ customerProvider: @autoclosure @escaping () -> String) {
    customerProviders.append(customerProvider)
}
collectCustomerProviders(customersInLine.remove(at: 0))
collectCustomerProviders(customersInLine.remove(at: 0))

print("Collected \(customerProviders.count) closures.")
// ÊâìÂç∞ "Collected 2 closures."
for customerProvider in customerProviders {
    print("Now serving \(customerProvider())!")
}
